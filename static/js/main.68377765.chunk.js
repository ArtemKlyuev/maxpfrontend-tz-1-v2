(this.webpackJsonpmaxpfrontend_tz_1=this.webpackJsonpmaxpfrontend_tz_1||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={Input_General:"Input_Input_General__890KW",Input:"Input_Input__1G-Rl",InputElement:"Input_InputElement__36tz5",Invalid:"Input_Invalid__1r3kZ"}},,function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__qpoZz",Open:"SideDrawer_Open__3ilrS",Close:"SideDrawer_Close__3Sb5U"}},,,,function(e,t,n){e.exports={left:"Arrow_left__1XrI2",down:"Arrow_down__xhzBk",up:"Arrow_up__1S3L-"}},,,function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__ga-Yn",active:"NavigationItem_active__1WsSm"}},,,function(e,t,n){e.exports={NewsItem_preview:"NewsItem_NewsItem_preview__2hbQJ",NewsItem_full:"NewsItem_NewsItem_full__3jhyc"}},,,,,function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__rDovH"}},function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__2YJK0"}},function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__26JPO"}},function(e,t,n){e.exports={Content:"Layout_Content__19N6G"}},function(e,t,n){e.exports={Button:"Button_Button__3P8ic"}},function(e,t,n){e.exports={Form:"Auth_Form__5TG_3"}},function(e,t,n){e.exports={GoBack:"GoBack_GoBack__1yaJm"}},,function(e,t,n){e.exports=n(53)},,,,,function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(20),l=n.n(o),c=(n(47),n(15)),i=n(2),u=function(){return console.log("auth success triggered"),localStorage.setItem("isAuth",!0),{type:"AUTH_SUCCESS"}},s=n(10),d=n(11),m=n(13),p=n(12),h=n(14),f=n(7),g=n(26),E=n.n(g),w=function(e){return a.a.createElement(f.c,{to:e.link,exact:e.exact,className:E.a.NavigationItem,activeClassName:E.a.active},e.children)},_=n(34),v=n.n(_),b=function(e){return a.a.createElement("nav",{className:v.a.NavigationItems},a.a.createElement(w,{link:"/",exact:!0},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),a.a.createElement(w,{link:"/login"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),a.a.createElement(w,{link:"/news"},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"),a.a.createElement(w,{link:"/profile"},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"))},T=n(35),y=n.n(T),A=function(e){return a.a.createElement("div",{className:y.a.DrawerToggle,onClick:e.clicked},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))},S=n(36),I=n.n(S),C=function(e){var t=a.a.createElement(A,{clicked:e.drawerToggleClicked}),n=a.a.createElement(b,null);return a.a.createElement("header",{className:I.a.Toolbar},e.isMobile&&t,!e.isMobile&&n)},O=n(19),D=n.n(O),k=function(e){var t=[D.a.SideDrawer,D.a.Close];return e.open&&(t=[D.a.SideDrawer,D.a.Open]),a.a.createElement("div",{className:t.join(" "),onClick:e.closed},a.a.createElement(b,null))},N=n(37),j=n.n(N),x=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={showSideDrawer:!1,isMobile:!1},n.checkDimensions=function(){window.innerWidth<=460?n.setState({isMobile:!0}):n.setState({isMobile:!1})},n.sideDrawerClosedHandler=function(){n.setState({showSideDrawer:!1})},n.sideDrawerToggleHandler=function(){n.setState((function(e){return{showSideDrawer:!e.showSideDrawer}}))},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("DOMContentLoaded",this.checkDimensions),window.addEventListener("resize",this.checkDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkDimensions)}},{key:"render",value:function(){var e=a.a.createElement(k,{open:this.state.showSideDrawer,closed:this.sideDrawerClosedHandler});return a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{drawerToggleClicked:this.sideDrawerToggleHandler,isMobile:this.state.isMobile}),this.state.isMobile&&e,a.a.createElement("main",{className:j.a.Content},this.props.children))}}]),t}(a.a.Component),F=function(e){return a.a.createElement("p",{style:{textAlign:"center"}},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")},H=n(22);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var L=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(H.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},t)},R=function(e,t){var n=!0;return!t||(t.required&&(n=""!==e.trim()&&n),n)},M=n(38),P=n.n(M),B=function(e){return a.a.createElement("button",{className:P.a.Button,disabled:e.disabled,onClick:e.clicked},e.children)},G=n(17),W=n.n(G),q=function(e){var t=null,n=[W.a.Input_General];switch(e.invalid&&e.shouldValidate&&e.touched&&n.push(W.a.Invalid),e.elementType){case"input":n.push(W.a.Input),t=a.a.createElement("input",{className:n.join(" "),value:e.value,onChange:e.changed,placeholder:e.placeholder,type:e.type,required:e.required});break;case"textarea":t=a.a.createElement("input",null);break;default:t=a.a.createElement("input",null)}var r=a.a.createElement("label",{htmlFor:t,className:W.a.Input_General},e.label);return a.a.createElement("div",{className:W.a.Input_General},e.label&&r,t)},z=n(39),J=n.n(z),K=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={controls:{username:{elementType:"input",elementConfig:{type:"text",placeholder:"Username"},value:"",validation:{required:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0,minLength:5},valid:!1,touched:!1}},auth:{username:"Admin",password:12345}},n.inputChangedHandler=function(e,t){var r=n.state.controls,a=L(r,Object(H.a)({},t,L(r[t],{value:e.currentTarget.value,valid:R(t,r[t].validation),touched:!0})));n.setState({controls:a})},n.sumbitHandler=function(e){e.preventDefault();var t=n.state.controls,r=t.username,a=t.password;n.props.onAuth(r.value,Number(a.value))},n}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onSetAuthRedirectPath("/profile")}},{key:"render",value:function(){var e=this,t=[],n=this.state.controls;Object.keys(n).forEach((function(r){var o=n[r].elementConfig,l=o.type,c=o.placeholder,i=n[r].validation.required,u=n[r],s=u.elementType,d=u.value,m=u.valid,p=u.touched,h=a.a.createElement(q,{key:c,type:l,placeholder:c,elementType:s,value:d,touched:p,invalid:m,required:i,changed:function(t){return e.inputChangedHandler(t,r)}});t.push(h)}));var r=null;this.props.isAuth&&(r=a.a.createElement(c.a,{to:this.props.authRedirectPath}));var o=a.a.createElement("p",{style:{color:"red"}},"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435 \u0432\u0435\u0440\u043d\u043e");return a.a.createElement(a.a.Fragment,null,r,a.a.createElement("form",{className:J.a.Form,onSubmit:function(t){return e.sumbitHandler(t)}},t,this.props.error&&o,a.a.createElement(B,null,"\u0412\u043e\u0439\u0442\u0438")))}}]),t}(a.a.Component),Y=Object(i.b)((function(e){return{isAuth:e.auth.isAuth,error:e.auth.error,loading:e.auth.loading,authRedirectPath:e.auth.authRedirectPath}}),(function(e){return{onAuth:function(t,n){return e(function(e,t){return console.log("auth triggered"),function(n){n({type:"AUTH_START"}),n("Admin"!==e||12345!==t?{type:"AUTH_FAIL"}:u())}}(t,n))},onSetAuthRedirectPath:function(t){return e(function(e){return{type:"SET_AUTH_REDIRECT_PATH",path:e}}(t))}}}))(K),Z=function(e){return a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Name:"),a.a.createElement("td",null,e.name)),a.a.createElement("tr",null,a.a.createElement("td",null,"Username:"),a.a.createElement("td",null,e.username)),a.a.createElement("tr",null,a.a.createElement("td",null,"Email"),a.a.createElement("td",null,e.email))))},Q=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){console.log("kek"),this.props.isAuth&&this.props.onFetchUserData()}},{key:"render",value:function(){var e=this.props,t=e.isAuth,n=e.error,r=e.userData,o=e.loading,l=null,i=a.a.createElement(Z,r);return o&&(i=a.a.createElement("p",{style:{textAlign:"center"}},"\u0418\u0434\u0451\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435")),console.log("this.props",this.props),t||(l=a.a.createElement(c.a,{to:"/login"})),a.a.createElement(a.a.Fragment,null,l,n?a.a.createElement("p",{style:{textAlign:"center"}},"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"):i)}}]),t}(a.a.Component),V=Object(i.b)((function(e){return{isAuth:e.auth.isAuth,userData:e.userData.userData,error:e.userData.error,loading:e.userData.loading}}),(function(e){return{onFetchUserData:function(){return e((function(e){e({type:"FETCH_USER_DATA_START"}),fetch("https://jsonplaceholder.typicode.com/users/1").then((function(e){if(!e.ok)throw console.log("res.statusText",e),new Error(e.statusText);return e.json()})).then((function(t){console.log("data",t),e(function(e){return{type:"FETCH_USER_DATA_SUCCESS",data:e}}(t))})).catch((function(t){console.log("user data error",t),e({type:"FETCH_USER_DATA_FAIL",error:t})}))}))}}}))(Q),X=n(29),$=n.n(X),ee=Object(i.b)(null,(function(e){return{onMoreInfoClicked:function(t){return e(function(e){return{type:"MORE_INFO_CLICKED",newsItem:e}}(t))}}}))((function(e){var t=e.description,n=e.publishedAt,r=e.title,o=e.url,l=e.urlToImage,c=e.isPreview,i=e.index,u=new Date(n),s=u.getHours(),d=u.getMinutes();1===String(d).length&&(d="0"+d);var m="".concat(s,":").concat(d),p=u.getDate(),h=u.getMonth()+1,g=u.getFullYear(),E="".concat(p,"/").concat(h,"/").concat(g," ").concat(m),w=$.a.NewsItem_preview;c||(w=$.a.NewsItem_full);var _=a.a.createElement(f.b,{to:function(e){return"".concat(e.pathname,"/").concat(i)}},a.a.createElement(B,{clicked:function(a){console.log(a.currentTarget),e.onMoreInfoClicked({description:t,publishedAt:n,title:r,url:o,urlToImage:l})}},"\u0427\u0438\u0442\u0430\u0442\u044c \u0434\u0430\u043b\u0435\u0435"));return a.a.createElement("div",{className:w},a.a.createElement("span",null,E," "),a.a.createElement("h3",null,r),c&&_,e.children)})),te=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchNews(),console.log("component did mount[this.props.news]",this.props.news)}},{key:"render",value:function(){var e=this.props,t=e.news,n=e.loading,r=e.error,o="/news"===this.props.match.url,l=a.a.createElement("p",{style:{textAlign:"center"}},"\u0418\u0434\u0451\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435");return n||(console.log(typeof t),console.log("news",t),console.log("loading",n),l=t.map((function(e,t){return a.a.createElement(ee,Object.assign({key:e.title,isPreview:o,index:t+1},e))}))),console.log("News Props",this.props),a.a.createElement(a.a.Fragment,null,r?a.a.createElement("p",{style:{textAlign:"center"}},"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"):l)}}]),t}(a.a.Component),ne=Object(i.b)((function(e){return{news:e.news.news,loading:e.news.loading,error:e.news.error,isMoreInfoClicked:e.news.isMoreInfoClicked,fullNewsItemToLoad:e.news.fullNewsItemToLoad}}),(function(e){return{onFetchNews:function(){return e((function(e){e({type:"FETCH_NEWS_START"});var t="".concat("https://newsapi.org/v2/top-headlines","?country=").concat("ru","&apiKey=").concat("131595506e1e4017aeaddc953c9bcd5d");fetch(t).then((function(e){if(!e.ok)throw console.log("res.statusText",e),new Error(e.statusText);return e.json()})).then((function(t){console.log("news",t.articles),e(function(e){return{type:"FETCH_NEWS_SUCCESS",news:e}}(t.articles))})).catch((function(t){console.log("fetch news data fail",t),e({type:"FETCH_NEWS_FAIL",error:t})}))}))}}}))(te),re=n(23),ae=n.n(re),oe=function(e){var t=e.color,n="";switch(e.direction){case"left":n=ae.a.left;break;case"down":n=ae.a.down;break;case"up":n=ae.a.up}return a.a.createElement("svg",{height:"14",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 4.53657 8.69699",className:n},a.a.createElement("path",{d:"\r M.18254,8.697a.18149.18149,0,0,1-.12886-.31034L4.09723,4.34126.05369.29954a.18149.18149,\r 0,0,1,.2559-.2559L4.4838,4.21785a.18149.18149,0,0,1,0,.2559L.30958,8.648A.18149.18149,\r 0,0,1,.18254,8.697Z\r ",fill:t||"#3dabca"}))},le=n(40),ce=n.n(le),ie=function(e){return a.a.createElement("div",{onClick:e.history.goBack,className:ce.a.GoBack},a.a.createElement(oe,{direction:"left"}),"\u041d\u0430\u0437\u0430\u0434")},ue=Object(i.b)((function(e){return{fullNewsItemToLoad:e.news.fullNewsItemToLoad}}))((function(e){if(!e.fullNewsItemToLoad)return a.a.createElement(c.a,{to:"/news"});var t=e.fullNewsItemToLoad,n=t.description,r=t.publishedAt,o=t.title,l=t.url,i=t.urlToImage;return a.a.createElement(ee,{publishedAt:r,title:o},a.a.createElement(ie,{history:e.history}),a.a.createElement("img",{src:i,style:{width:"100%"},alt:"News image"}),a.a.createElement("p",null,n),a.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer"},"\u0427\u0438\u0442\u0430\u0442\u044c \u0432 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0435"))})),se=function(e){return a.a.createElement("div",{style:{textAlign:"center"}},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e :/")},de=Object(i.b)(null,(function(e){return{onTryAutoSignin:function(){return e((function(e){JSON.parse(localStorage.getItem("isAuth"))?e(u()):localStorage.setItem("isAuth",!1)}))}}}))((function(e){return Object(r.useEffect)((function(){return e.onTryAutoSignin()}),[]),a.a.createElement(x,null,a.a.createElement(c.d,null,a.a.createElement(c.b,{path:"/login",component:Y}),a.a.createElement(c.b,{path:"/profile",component:V}),a.a.createElement(c.b,{path:"/news",exact:!0,component:ne}),a.a.createElement(c.b,{path:"/news/:id",component:ue}),a.a.createElement(c.b,{path:"/",exact:!0,component:F}),a.a.createElement(c.b,{path:"*",component:se}),a.a.createElement(c.a,{to:"/"})))})),me=n(16),pe=n(41),he={isAuth:!1,error:null,loading:!1,authRedirectPath:"/"},fe=function(e,t){return L(e,{loading:!0})},ge=function(e,t){return L(e,{isAuth:!0,error:null,loading:!1})},Ee=function(e,t){return L(e,{error:!0,loading:!1})},we=function(e,t){return L(e,{authRedirectPath:t.path})},_e=function(e,t){return L(e,{isAuth:!1})},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return fe(e);case"AUTH_SUCCESS":return ge(e);case"AUTH_FAIL":return Ee(e);case"AUTH_LOGOUT":return _e(e);case"SET_AUTH_REDIRECT_PATH":return we(e,t);default:return e}},be={userData:null,error:!1,loading:!0},Te=function(e,t){return L(e,{error:!1,loading:!0})},ye=function(e,t){return L(e,{userData:t.data,error:!1,loading:!1})},Ae=function(e,t){return L(e,{error:!0,loading:!1})},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_DATA_START":return Te(e);case"FETCH_USER_DATA_SUCCESS":return ye(e,t);case"FETCH_USER_DATA_FAIL":return Ae(e);default:return e}},Ie={news:null,loading:!0,error:!1,isMoreInfoClicked:!1,fullNewsItemToLoad:null},Ce=function(e,t){return L(e,{loading:!0,error:!1})},Oe=function(e,t){return L(e,{loading:!1,error:!0})},De=function(e,t){return L(e,{news:t.news,loading:!1,error:!1})},ke=function(e,t){return L(e,{fullNewsItemToLoad:t.newsItem})},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NEWS_START":return Ce(e);case"FETCH_NEWS_SUCCESS":return De(e,t);case"FETCH_NEWS_FAIL":return Oe(e);case"MORE_INFO_CLICKED":return ke(e,t);default:return e}},je=me.d,xe=Object(me.c)({auth:ve,userData:Se,news:Ne}),Fe=Object(me.e)(xe,je(Object(me.a)(pe.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var He=a.a.createElement(i.a,{store:Fe},a.a.createElement(f.a,null,a.a.createElement(de,null)));l.a.render(He,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[42,1,2]]]);
//# sourceMappingURL=main.68377765.chunk.js.map